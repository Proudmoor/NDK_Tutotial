#include <jni.h>
#include <android/log.h>
#include <GLES/gl.h>
#include <math.h>

#include "Square.h"
#include "Triangle.h"

void naInitGL1x(JNIEnv *env, jclass clazz);
void naDrawGraphics(JNIEnv *env, jclass clazz);
void naSurfaceChanged(JNIEnv *env, jclass clazz, int width, int height);

jint JNI_OnLoad(JavaVM *pVM, void *reserved){
	JNIEnv *env;
	if(pVM->GetEnv((void**)&env, JNI_VERSION_1_6) != JNI_OK)){
		return -1;
	}

	JNINativeMethod nm[3];
	nm[0].name = "naInitGL1x";       nm[0].signature = "()V";
	nm[0].fnPtr = (void*)naInitGL1x;
	nm[1].name = "naDrawGraphics";   nm[1].signature = "()V";
	nm[1].fnPtr = (void*)naDrawGraphics;
	nm[2].name = "naSurfaceChanged"; nm[2].signature = "(II)V";
	nm[2].fnPtr = (void*)naSurfaceChanged;

	jclass cls = env->FindClass("com/zpf/opengl1x/MyRenderer");

	env->RegisterNatives(cls, nm, 3);
	return JNI_VERSION_1_6;
}
